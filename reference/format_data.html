<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Format data by standardizing column names and units — format_data • indexwc</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Format data by standardizing column names and units — format_data"><meta property="og:description" content="Input data to run(data = ) must be formatted in a certain way to allow
calculations such as the creation of the mesh to work. Therefore, all input
data frames must be formatted prior to using run(). This function will
work detect what kind of data you have and then format it appropriately to
work with all downstream functions within this package."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">indexwc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/a1_single_index.html">Coastwide indices</a>
    </li>
    <li>
      <a href="../articles/a2_multiple_area_indices.html">Index example with multiple areas</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/pfmc-assessments/indexwc/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format <code>data</code> by standardizing column names and units</h1>
    <small class="dont-index">Source: <a href="https://github.com/pfmc-assessments/indexwc/blob/main/R/format_data.R" class="external-link"><code>R/format_data.R</code></a></small>
    <div class="hidden name"><code>format_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Input data to <code>run(data = )</code> must be formatted in a certain way to allow
calculations such as the creation of the mesh to work. Therefore, all input
data frames must be formatted prior to using <code><a href="run.html">run()</a></code>. This function will
work detect what kind of data you have and then format it appropriately to
work with all downstream functions within this package.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">format_data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing tow-level information on catch weight
and effort. Additional columns can be present such as depth.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Not yet implemented for any of the available methods but present
for future development purposes.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data frame with all lower case column names.</p><ul><li><p><code>year</code></p></li>
<li><p><code>survey_name</code></p></li>
<li><p><code>common_name</code></p></li>
<li><p><code>catch_numbers</code></p></li>
<li><p><code>catch_wt</code> (mt)</p></li>
<li><p><code>effort</code> ($km^2$)</p></li>
<li><p><code>pass_scaled</code> after subtracting the mean</p></li>
<li><p><code>vessel_year</code> pasted together, made numeric, and subtract 1</p></li>
<li><p><code>fyear</code> the factor version of <code>year</code> to match notation used in sdmTMB</p></li>
<li><p><code>longitude</code> (decimal degrees)</p></li>
<li><p><code>latitude</code> (decimal degrees)</p></li>
<li><p><code>x</code> and <code>y</code> are in Universal Transverse Mercator (UTM)</p></li>
<li><p><code>depth</code> (m) with positive entries representing measurements above sea
level and negative entries representing measurements below sea level</p></li>
<li><p><code>depth_scaled</code> depth (m) scaled using <code><a href="https://rdrr.io/r/base/scale.html" class="external-link">base::scale()</a></code>; so, subtracting the
mean and dividing by the standard deviation, these values are saved in
attributes for this column so that you can reference them later</p></li>
<li><p><code>depth_scaled_squared</code> is <code>depth_scaled^2</code></p></li>
</ul></div>
    <div id="author">
    <h2>Author</h2>
    <p>Chantel R. Wetzel and Kelli F. Johnson</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">catch_wcgbts_canary</span> <span class="op">&lt;-</span> <span class="fu">nwfscSurvey</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/nwfscSurvey/man/pull_catch.html" class="external-link">pull_catch</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  common_name <span class="op">=</span> <span class="st">"canary rockfish"</span>,</span></span>
<span class="r-in"><span>  years <span class="op">=</span> <span class="fl">2021</span><span class="op">:</span><span class="fl">2022</span>,</span></span>
<span class="r-in"><span>  survey <span class="op">=</span> <span class="st">"NWFSC.Combo"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Output will not be saved in dir because dir = NULL.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Pulling catch data for canary rockfish.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There are 109 positive tows across all years pulled.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> There were 5 positive tows with non-satisfactory tow performance (e.g., no area swept estimate, net issues, etc.).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There are 104 positive tows remaining across all years after standard</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> filtering.</span>
<span class="r-in"><span><span class="co"># Must assign the data a class so {indexwc} knows how to format it</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">catch_wcgbts_canary</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nwfscSurvey"</span>, <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">catch_wcgbts_canary</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">formatted_data</span> <span class="op">&lt;-</span> <span class="fu">format_data</span><span class="op">(</span>data <span class="op">=</span> <span class="va">catch_wcgbts_canary</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kelli F. Johnson, Sean C. Anderson, Chantel R. Wetzel, Eric J. Ward, Ian G. Taylor.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer></div>






  </body></html>

